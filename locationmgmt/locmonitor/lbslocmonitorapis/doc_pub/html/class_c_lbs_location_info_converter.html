<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Location Monitor APIs: CLbsLocationInfoConverter Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>CLbsLocationInfoConverter Class Reference</h1><!-- doxytag: class="CLbsLocationInfoConverter" -->
<p><code>#include &lt;<a class="el" href="lbslocationinfoconverter_8h_source.html">lbslocationinfoconverter.h</a>&gt;</code></p>

<p><a href="class_c_lbs_location_info_converter-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">IMPORT_C&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_lbs_location_info_converter.html#aea397c9a46753269534f76cbfadd6f26">~CLbsLocationInfoConverter</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">IMPORT_C void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_lbs_location_info_converter.html#add1421a54580b4f6c0b3fe41718d0522">ConvertLocationInfoL</a> (CLbsLocationInfoBase &amp;aLocationInfo, const <a class="el" href="lbslocationinfoconvertercommon_8h.html#a9e1665f109ca120a19662aecead7707a">TLbsConversionPrefs</a> aConversionPrefs, const <a class="el" href="lbslocationinfoconvertercommon_8h.html#aea09864060e465dab12f568de0aa3826">TLbsConversionOutputInfoMask</a> aRequestedInfo)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">IMPORT_C void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_lbs_location_info_converter.html#a654903fd4ae994d2a736ab0f9692ffb8">ConvertLocationInfoL</a> (RLbsLocationInfoBaseArray &amp;aLocationInfoArray, const <a class="el" href="lbslocationinfoconvertercommon_8h.html#a9e1665f109ca120a19662aecead7707a">TLbsConversionPrefs</a> aConversionPrefs, const <a class="el" href="lbslocationinfoconvertercommon_8h.html#aea09864060e465dab12f568de0aa3826">TLbsConversionOutputInfoMask</a> aRequestedInfo)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">IMPORT_C void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_lbs_location_info_converter.html#aa9d43529b701bdc042f4074d4b48fcc4">CancelConvertLocationInfo</a> ()</td></tr>
<tr><td colspan="2"><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static IMPORT_C <br class="typebreak"/>
<a class="el" href="class_c_lbs_location_info_converter.html">CLbsLocationInfoConverter</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_lbs_location_info_converter.html#ac60f81f82a6e6081116743436fd70547">NewL</a> (<a class="el" href="class_m_lbs_location_info_converter_observer.html">MLbsLocationInfoConverterObserver</a> &amp;aObserver, const TUid aConverterModuleId)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static IMPORT_C <br class="typebreak"/>
<a class="el" href="class_c_lbs_location_info_converter.html">CLbsLocationInfoConverter</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_lbs_location_info_converter.html#a0109bd74c44d356be22f10385644dece">NewL</a> (<a class="el" href="class_m_lbs_location_info_converter_observer.html">MLbsLocationInfoConverterObserver</a> &amp;aObserver)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>The <a class="el" href="class_c_lbs_location_info_converter.html">CLbsLocationInfoConverter</a> interface is used in partnership with <a class="el" href="class_m_lbs_location_info_converter_observer.html">MLbsLocationInfoConverterObserver</a> and provides the services to convert location information between different formats.</p>
<p>Completion of conversions is indicated by the LBS subsystem by invoking callbacks defined by the <a class="el" href="class_m_lbs_location_info_converter_observer.html">MLbsLocationInfoConverterObserver</a> class.</p>
<p>Currently the only supported conversion is from WLAN and/or GSM and/or WCDMA info into a geographic Locality. </p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aea397c9a46753269534f76cbfadd6f26"></a><!-- doxytag: member="CLbsLocationInfoConverter::~CLbsLocationInfoConverter" ref="aea397c9a46753269534f76cbfadd6f26" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT_C CLbsLocationInfoConverter::~CLbsLocationInfoConverter </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Destructor. </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="aa9d43529b701bdc042f4074d4b48fcc4"></a><!-- doxytag: member="CLbsLocationInfoConverter::CancelConvertLocationInfo" ref="aa9d43529b701bdc042f4074d4b48fcc4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT_C void CLbsLocationInfoConverter::CancelConvertLocationInfo </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Cancels an ongoing conversion operation. If there is no ongoing conversion the cancellation request is ignored.</p>
<p>Neither of the The <a class="el" href="class_m_lbs_location_info_converter_observer.html">MLbsLocationInfoConverterObserver</a> callbacks will not be invoked if cancellation is successful. </p>

</div>
</div>
<a class="anchor" id="a654903fd4ae994d2a736ab0f9692ffb8"></a><!-- doxytag: member="CLbsLocationInfoConverter::ConvertLocationInfoL" ref="a654903fd4ae994d2a736ab0f9692ffb8" args="(RLbsLocationInfoBaseArray &amp;aLocationInfoArray, const TLbsConversionPrefs aConversionPrefs, const TLbsConversionOutputInfoMask aRequestedInfo)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT_C void CLbsLocationInfoConverter::ConvertLocationInfoL </td>
          <td>(</td>
          <td class="paramtype">RLbsLocationInfoBaseArray &amp;&nbsp;</td>
          <td class="paramname"> <em>aLocationInfoArray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="lbslocationinfoconvertercommon_8h.html#a9e1665f109ca120a19662aecead7707a">TLbsConversionPrefs</a>&nbsp;</td>
          <td class="paramname"> <em>aConversionPrefs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="lbslocationinfoconvertercommon_8h.html#aea09864060e465dab12f568de0aa3826">TLbsConversionOutputInfoMask</a>&nbsp;</td>
          <td class="paramname"> <em>aRequestedInfo</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>A general purpose function that converts multiple locationinfos. The maximum allowable batch size is defined by KPositionMaxBatchSize which is 500. Exceeding KPositionMaxBatchSize will result in KErrNotSupported being reported.</p>
<p>Completion of the conversion is indicated by the LBS subsystem by invoking the <a class="el" href="class_m_lbs_location_info_converter_observer.html#adddac031a44b43c4fbbd9f6f55202e08">MLbsLocationInfoConverterObserver::OnConversionComplete</a> and the caller can then iterate through the results returned in aLocationInfoArray</p>
<p>Location</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>aLocationInfo</em>&nbsp;</td><td>An array of location information to be converted. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>aConversionPrefs</em>&nbsp;</td><td>Conversion preferences suggested by client </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>aRequestedInfo</em>&nbsp;</td><td>Location information that is requested. Currently the only supported conversion is from WLAN and/or GSM and/or WCDMA info into a geographic position, hence the parameter should be set to ELbsConversionOutputPosition)</td></tr>
  </table>
  </dd>
</dl>
<p>KErrNoMemory if there is not enough memory available to perform the conversion. KErrArgument If the location info pointer is NULL. KErrNotSupported if the conversion type specified by aRequestedInfo is not supported or if the bitmask specified by the client has all options set. This error is also returned if the batch size exceeds KPositionMaxBatchSize. </p>

</div>
</div>
<a class="anchor" id="add1421a54580b4f6c0b3fe41718d0522"></a><!-- doxytag: member="CLbsLocationInfoConverter::ConvertLocationInfoL" ref="add1421a54580b4f6c0b3fe41718d0522" args="(CLbsLocationInfoBase &amp;aLocationInfo, const TLbsConversionPrefs aConversionPrefs, const TLbsConversionOutputInfoMask aRequestedInfo)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT_C void CLbsLocationInfoConverter::ConvertLocationInfoL </td>
          <td>(</td>
          <td class="paramtype">CLbsLocationInfoBase &amp;&nbsp;</td>
          <td class="paramname"> <em>aLocationInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="lbslocationinfoconvertercommon_8h.html#a9e1665f109ca120a19662aecead7707a">TLbsConversionPrefs</a>&nbsp;</td>
          <td class="paramname"> <em>aConversionPrefs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="lbslocationinfoconvertercommon_8h.html#aea09864060e465dab12f568de0aa3826">TLbsConversionOutputInfoMask</a>&nbsp;</td>
          <td class="paramname"> <em>aRequestedInfo</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>A general purpose function that converts a single locationinfo. Completion of the conversion is indicated by the LBS subsystem by invoking the <a class="el" href="class_m_lbs_location_info_converter_observer.html#adddac031a44b43c4fbbd9f6f55202e08">MLbsLocationInfoConverterObserver::OnConversionComplete</a> and the caller can then iterate through the results returned in aLocationInfo</p>
<p>Location</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>aLocationInfo</em>&nbsp;</td><td>location information to be converted. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>aConversionPrefs</em>&nbsp;</td><td>Conversion preferences suggested by client </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>aRequestedInfo</em>&nbsp;</td><td>Location information that is requested. Currently the only supported conversion is from WLAN and/or GSM and/or WCDMA info into a geographic position, hence the parameter should be set to ELbsConversionOutputPosition) Need to say that can only do one of either ConvertLocationFingerPrintToLocalityL or ConvertLocationInfoL at a time or else user is panicked</td></tr>
  </table>
  </dd>
</dl>
<p>KErrNoMemory if there is not enough memory available to perform the conversion. KErrArgument If the location info pointer is NULL. </p>

</div>
</div>
<a class="anchor" id="a0109bd74c44d356be22f10385644dece"></a><!-- doxytag: member="CLbsLocationInfoConverter::NewL" ref="a0109bd74c44d356be22f10385644dece" args="(MLbsLocationInfoConverterObserver &amp;aObserver)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT_C <a class="el" href="class_c_lbs_location_info_converter.html">CLbsLocationInfoConverter</a> * CLbsLocationInfoConverter::NewL </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_m_lbs_location_info_converter_observer.html">MLbsLocationInfoConverterObserver</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>aObserver</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Allocates and construct a new <a class="el" href="class_c_lbs_location_info_converter.html">CLbsLocationInfoConverter</a> Note here to say that impementations for both OnResolveLocationComplete and OnConversionComplete MUST be provided even though only interested in say, ConvertLocationFingerPrintToLocalityL Opens the default module. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>aObserver</em>&nbsp;</td><td>An observer for location conversion event. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac60f81f82a6e6081116743436fd70547"></a><!-- doxytag: member="CLbsLocationInfoConverter::NewL" ref="ac60f81f82a6e6081116743436fd70547" args="(MLbsLocationInfoConverterObserver &amp;aObserver, const TUid aConverterModuleId)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT_C <a class="el" href="class_c_lbs_location_info_converter.html">CLbsLocationInfoConverter</a> * CLbsLocationInfoConverter::NewL </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_m_lbs_location_info_converter_observer.html">MLbsLocationInfoConverterObserver</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>aObserver</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const TUid&nbsp;</td>
          <td class="paramname"> <em>aConverterModuleId</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Allocates and construct a new <a class="el" href="class_c_lbs_location_info_converter.html">CLbsLocationInfoConverter</a> </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>aObserver</em>&nbsp;</td><td>An observer for location conversion event. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>aConverterModuleId</em>&nbsp;</td><td>UID of the conversion plugin to be used. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>C:/Data/Dev/Synergy/MCL/lbs/lbs/locationmgmt/locmonitor/lbslocmonitorapis/ConversionApi/ConversionClientApi/inc/<a class="el" href="lbslocationinfoconverter_8h_source.html">lbslocationinfoconverter.h</a></li>
<li>C:/Data/Dev/Synergy/MCL/lbs/lbs/locationmgmt/locmonitor/lbslocmonitorapis/ConversionApi/ConversionClientApi/src/lbslocationinfoconverter.cpp</li>
</ul>
</div>
<HR>
Copyright (c) 2005-2010 Nokia Corporation and/or its subsidiary(-ies).<BR>
All rights reserved. These materials are provided under the terms of the
<A HREF="http://www.eclipse.org/legal/epl-v10.html">Eclipse Public License v1.0.</A>
</BODY>
</HTML>
