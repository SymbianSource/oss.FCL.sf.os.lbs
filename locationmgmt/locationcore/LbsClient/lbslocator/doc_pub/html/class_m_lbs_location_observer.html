<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>LbsLocator: MLbsLocationObserver Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>MLbsLocationObserver Class Reference</h1><!-- doxytag: class="MLbsLocationObserver" -->
<p><code>#include &lt;<a class="el" href="lbslocationobserver_8h_source.html">lbslocationobserver.h</a>&gt;</code></p>

<p><a href="class_m_lbs_location_observer-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_lbs_location_observer.html#acf62d2eed39ddbedbb712716183149fe">HandleLocationUpdate</a> (const <a class="el" href="class_t_lbs_location.html">TLbsLocation</a> &amp;aLocation)=0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_lbs_location_observer.html#ab071b8c360827016f8edd98b594a1ec5">HandleLocationStatus</a> (TInt aStatus)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual TVersion&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_lbs_location_observer.html#af37bb5fadad98d63aee5df2797973fa8">Version</a> () const </td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p><a class="el" href="class_m_lbs_location_observer.html">MLbsLocationObserver</a> - Provides callback methods for <a class="el" href="class_c_lbs_locator.html">CLbsLocator</a> to send location updates and status reports to the application.</p>
<p>Location updates provide Latitude and Longitude information and may contain Altitude, Course and Speed data.</p>
<p>The frequency and accuracy of these updates and the power consumed is dependent on the performance profile being used.</p>
<p>Applications need only to implement the <a class="el" href="class_m_lbs_location_observer.html#acf62d2eed39ddbedbb712716183149fe">HandleLocationUpdate()</a> method of this class. If status information is important then <a class="el" href="class_m_lbs_location_observer.html#ab071b8c360827016f8edd98b594a1ec5">HandleLocationStatus()</a> should also be implemented.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="class_c_lbs_locator.html">CLbsLocator</a> </dd>
<dd>
<a class="el" href="class_t_lbs_location.html">TLbsLocation</a> </dd></dl>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ab071b8c360827016f8edd98b594a1ec5"></a><!-- doxytag: member="MLbsLocationObserver::HandleLocationStatus" ref="ab071b8c360827016f8edd98b594a1ec5" args="(TInt aStatus)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MLbsLocationObserver::HandleLocationStatus </td>
          <td>(</td>
          <td class="paramtype">TInt&nbsp;</td>
          <td class="paramname"> <em>aStatus</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Applications must implement this method to receive location status updates.</p>
<p>To begin receiving status updates the application must call <a class="el" href="class_c_lbs_locator.html#a06d68c07552f52a9ad6fda2c346c7340">CLbsLocator::StartUpdatesL()</a>.</p>
<p>Status updates are typically generated when it has not been possible to obtain either a sufficiently accurate position for the active profile or indeed any position. Such events are normal and are often transient. They do not indicate an error with the hardware or system.</p>
<p>In these types of situations, the parameter aStatus will contain a positive value. The system will continue to try and obtain a more accurate position and there is generally no need for the application to change profiles, stop or restart updates.</p>
<p>When positions of target accuracy has been achieved, <a class="el" href="class_m_lbs_location_observer.html#ab071b8c360827016f8edd98b594a1ec5">HandleLocationStatus()</a> will be called with the status code of KErrNone.</p>
<p>It depends on the active profile when status updates about the accuracy or availability of positions are sent to the application . Applications can change this timer period by calling <a class="el" href="class_c_lbs_locator.html#a24bb92987a08fbe7e86daec3d71aa7f4">CLbsLocator::SetLocatorOption()</a> with the options ELocatorStatusTimer.</p>
<p>If <a class="el" href="class_m_lbs_location_observer.html#ab071b8c360827016f8edd98b594a1ec5">HandleLocationStatus()</a> is called with a negative status code, this indicates there has been an error inside the location subsystem or with the connected hardware. These situations are generally not recoverable and the application would normally stop using the interface.</p>
<p>When an application no longer wishes to receive updates it should call <a class="el" href="class_c_lbs_locator.html#a07de0df3e0ee0686468e7d927fa0978a">CLbsLocator::StopUpdates()</a>. It is possible to call this method from within the <a class="el" href="class_m_lbs_location_observer.html#ab071b8c360827016f8edd98b594a1ec5">HandleLocationStatus()</a> callback.</p>
<p>Typical values of parameter aStatus include:</p>
<ul>
<li><em>KPositionQualityLoss:</em> Indicates that although it is still possible to obtain a position for the current location, its accuracy does not meet that expected for the active profile. For example, in the Lazy Tracker profile this will occurr when it has not been possible to obatin a GPS position but a cell based location is available.<br/>
<br/>
</li>
</ul>
<ul>
<li><em>KPositionNotAvailable:</em> This status code informs that application that no position information can be obatined for the current location.<br/>
<br/>
</li>
</ul>
<ul>
<li><em>KErrNone:</em> Indicates that a previously reported problem related to the position availability or accuracy has passed. It is has now been possible to obtain positions that meets the target of the active profile.<br/>
<br/>
</li>
</ul>
<ul>
<li>When a Symbian OS (negative) error code is passed, this indicates there is a problem with the system and/or the hardware. This will normally prevent any position information being returned.</li>
</ul>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>aStatus</em>&nbsp;</td><td>A positive value indicates there is a loss of accuracy or no position is currently available. This is generally a transient situation. A negative value means an error has occurred that will normally prevent any position information being returned. KErrNone is returned when normal service has been restored.</td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="class_m_lbs_location_observer.html#acf62d2eed39ddbedbb712716183149fe">HandleLocationUpdate</a> </dd>
<dd>
<a class="el" href="class_c_lbs_locator.html#a24bb92987a08fbe7e86daec3d71aa7f4">CLbsLocator::SetLocatorOption()</a> </dd>
<dd>
<a class="el" href="class_c_lbs_locator.html#a06d68c07552f52a9ad6fda2c346c7340">CLbsLocator::StartUpdatesL()</a> </dd>
<dd>
<a class="el" href="class_c_lbs_locator.html#a07de0df3e0ee0686468e7d927fa0978a">CLbsLocator::StopUpdates()</a> </dd>
<dd>
<a class="el" href="class_c_lbs_locator.html#a81e5153b24439e818000ec4ff8bece97">CLbsLocator::SetLocatorProfile()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="acf62d2eed39ddbedbb712716183149fe"></a><!-- doxytag: member="MLbsLocationObserver::HandleLocationUpdate" ref="acf62d2eed39ddbedbb712716183149fe" args="(const TLbsLocation &amp;aLocation)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MLbsLocationObserver::HandleLocationUpdate </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_lbs_location.html">TLbsLocation</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>aLocation</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Applications must implement this method to receive location updates.</p>
<p>To begin receiving updates the application must call <a class="el" href="class_c_lbs_locator.html#a06d68c07552f52a9ad6fda2c346c7340">CLbsLocator::StartUpdatesL()</a>.</p>
<p>After calling StartUpdatesL(), the first update an application will receive is a cached location (if available). The application should check the accuracy of this initial update to determine how useful it is. The accuracy of cached positions is likely to vary from a few kilometers up to the country level. That is, an application may receive an initial position only based on the country they are in.</p>
<p>Only after delivering any initial cached position will the system attempt obtain the current location. Application will normally be sent location updates with improving accuracy until the target accuracy for the active profile is achieved.</p>
<p>When an application no longer wishes to receive updates it should call <a class="el" href="class_c_lbs_locator.html#a07de0df3e0ee0686468e7d927fa0978a">CLbsLocator::StopUpdates()</a>. It is legal, valid and usual to stop updates from within the <a class="el" href="class_m_lbs_location_observer.html#acf62d2eed39ddbedbb712716183149fe">HandleLocationUpdate()</a> callback. Stopping updates while the initial cached position is being deliverd, prevents the search for the current positioning being initiated. This is a useful technique to reduce cost and power consumption.</p>
<p>The point at which subsequent updates sent to the application depends on the active profile. Applications will receive updates when the device has moved a designated distance and/or after a time period.</p>
<p>Applications may received notification about the loss of accuracy and unavailability of position information by implementing the <a class="el" href="class_m_lbs_location_observer.html#ab071b8c360827016f8edd98b594a1ec5">HandleLocationStatus()</a> method. This method is also used to pass error information to the application.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>aLocation</em>&nbsp;</td><td>Initially may contain a cached location if available, subsequent updates hold the current location of the device.<br/>
 The accuracy of the location should be checked to determine how useful it is to the application.</td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="class_t_lbs_location.html">TLbsLocation</a> </dd>
<dd>
<a class="el" href="class_m_lbs_location_observer.html#ab071b8c360827016f8edd98b594a1ec5">HandleLocationStatus</a> </dd>
<dd>
<a class="el" href="class_c_lbs_locator.html#a06d68c07552f52a9ad6fda2c346c7340">CLbsLocator::StartUpdatesL()</a> </dd>
<dd>
<a class="el" href="class_c_lbs_locator.html#a07de0df3e0ee0686468e7d927fa0978a">CLbsLocator::StopUpdates()</a> </dd>
<dd>
<a class="el" href="class_c_lbs_locator.html#a81e5153b24439e818000ec4ff8bece97">CLbsLocator::SetLocatorProfile()</a> </dd>
<dd>
<a class="el" href="class_c_lbs_locator.html#a24bb92987a08fbe7e86daec3d71aa7f4">CLbsLocator::SetLocatorOption()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="af37bb5fadad98d63aee5df2797973fa8"></a><!-- doxytag: member="MLbsLocationObserver::Version" ref="af37bb5fadad98d63aee5df2797973fa8" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TVersion MLbsLocationObserver::Version </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This method should not be overridden by the application.</p>
<p>It is queried by the location subsystem to determine the version of the observer interface used by the application. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>Z:/lbslocator/inc/<a class="el" href="lbslocationobserver_8h_source.html">lbslocationobserver.h</a></li>
<li>Z:/lbslocator/src/<a class="el" href="lbslocationobserver_8cpp.html">lbslocationobserver.cpp</a></li>
</ul>
</div>
<HR>
Copyright (c) 2005-2010 Nokia Corporation and/or its subsidiary(-ies).<BR>
All rights reserved. These materials are provided under the terms of the
<A HREF="http://www.eclipse.org/legal/epl-v10.html">Eclipse Public License v1.0.</A>
</BODY>
</HTML>
